<p>mi-perfil works!</p>
<<<<<<< HEAD
=======
<div *ngIf="!loaderFuncionario" @slideDown class="bg-white dark:bg-gray-800 shadow rounded-lg p-8 space-y-8">
  <!-- Encabezado -->
  <div class="flex items-center space-x-6">
    <!-- Foto de perfil -->
    <div class="w-32 h-32 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden shadow">
      <img [src]="getImagenPerfil()" alt="foto_perfil" class="w-full h-full object-cover pointer-events-none" />
    </div>
    <div class="flex-1">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white capitalize">
        {{ currentUser.grado.toLowerCase() }} {{ currentUser.primer_nombre.toLowerCase() }} {{ currentUser.apellido_paterno.toLowerCase() }} {{ currentUser.apellido_materno.toLowerCase() }}
      </h2>
      <p class="text-sm text-gray-600 dark:text-gray-300 font-medium">Escalafón: <span class="font-normal capitalize">{{ currentUser.escalafon.toLowerCase() }}</span></p>
      <p class="text-sm text-gray-600 dark:text-gray-300 font-medium">Dotación: <span class="font-normal capitalize">{{ currentUser.dotacion.toLowerCase() }}</span></p>
      <span class="flex items-center w-fit gap-2 mt-2 px-3 py-1 text-xs font-medium text-green-800 bg-green-100 dark:bg-green-800 dark:text-green-100 rounded-full">
        <span class="w-2 h-2 rounded-full bg-green-700 dark:bg-green-200"></span>
        {{ currentUser.condicion_servicio }}
      </span>
    </div>
  </div>

  <!-- Línea divisoria -->
  <hr class="border-t border-gray-300 dark:border-gray-700">

  <div class="flex items-center space-x-3 mb-6 py-1 pl-1 pr-4 bg-green-100 dark:bg-gray-700 rounded-full w-fit">
    <!-- Ícono con fondo -->
    <div class="flex items-center justify-center w-8 h-8 bg-green-600 rounded-full shadow">
      <mat-icon class="!text-white">person</mat-icon>
    </div>
    <!-- Título -->
    <h5 class="text-md text-gray-900 dark:text-white">
      Datos personales:
    </h5>
  </div>

  <!-- Datos personales -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">RUT</label>
      <p class="text-gray-900 dark:text-white">{{ usuarioService.formatearRut(currentUser.rut) }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Código</label>
      <p class="text-gray-900 dark:text-white">{{ currentUser.codigo_funcionario.slice(0, -1) + '-' + currentUser.codigo_funcionario.slice(-1) }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Grado</label>
      <p class="text-gray-900 dark:text-white capitalize">{{ currentUser.grado.toLowerCase() }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Dotación</label>
      <p class="text-gray-900 dark:text-white capitalize">{{ currentUser.dotacion.toLowerCase() }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Correo institucional</label>
      <p class="text-gray-900 dark:text-white">{{ currentUser.correo_institucional }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Correo particular</label>
      <p class="text-gray-900 dark:text-white">{{ currentUser.correo_particular }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Comuna</label>
      <p class="text-gray-900 dark:text-white capitalize">{{ currentUser.comuna.toLowerCase() }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Rol</label>
      <p class="text-gray-900 dark:text-white">Digitador</p>
    </div>
  </div>

  <!-- Línea divisoria -->
  <hr class="border-t border-gray-300 dark:border-gray-700">

  <div class="flex items-center space-x-3 mb-6 py-1 pl-1 pr-4 bg-green-100 dark:bg-gray-700 rounded-full w-fit">
    <!-- Ícono con fondo -->
    <div class="flex items-center justify-center w-8 h-8 bg-green-600 rounded-full shadow">
      <mat-icon class="!text-white">key</mat-icon>
    </div>
    <!-- Título -->
    <h5 class="text-md text-gray-900 dark:text-white">
      Información de la sesión:
    </h5>
  </div>
  <!-- Información adicional -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Último inicio de sesión</label>
      <p class="text-gray-900 dark:text-white">{{ ultimaSesion }}</p>
    </div>
    <div>
      <label class="block text-gray-500 dark:text-gray-400 font-medium">Autenticado con</label>
      <p class="text-gray-900 dark:text-white">Contraseña Autentificatic</p>
    </div>
  </div>

  <!-- Línea divisoria -->
  <hr class="border-t border-gray-300 dark:border-gray-700">

  <!-- Sección cambiar contraseña con estilo destacado -->
  <div class="flex justify-end mt-4">
    <div class="bg-green-50 dark:bg-green-900 p-4 rounded-lg flex items-center justify-between shadow-inner border border-green-200 dark:border-green-700">
      <div class="flex items-center space-x-3">
        <!-- Ícono de candado -->
        <mat-icon class="dark:!text-white !text-green-700">lock</mat-icon>
        <!-- Contenido descriptivo -->
        <div>
          <p class="text-sm font-medium text-green-800 dark:text-green-100">¿Deseas cambiar tu contraseña?</p>
          <p class="text-xs text-green-600 dark:text-green-300">Accede a la plataforma de autentificatic.</p>
        </div>
      </div>
      <!-- Botón -->
      <a href="http://autentificatic.carabineros.cl/password/reset" target="_blank" class="ml-4 inline-block px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded transition-all duration-200 shadow">
        Cambiar
      </a>
    </div>
  </div>
</div>

<!-- <app-spinner
  *ngIf="loaderFuncionario"
  class="w-full flex justify-center items-center min-h-[calc(100vh-154px)]">
</app-spinner> -->
>>>>>>> 8d61a77 (Actualización: se sube carpeta DesGestionTesoreria con los últimos cambios)
